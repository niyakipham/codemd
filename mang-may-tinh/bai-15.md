# B√†i H·ªçc 15: T·∫ßng ·ª®ng D·ª•ng (Application Layer) - Giao Di·ªán V·ªõi Ng∆∞·ªùi D√πng Cu·ªëi üíªüßë‚Äçüíº

## M·ª•c Ti√™u B√†i H·ªçc

*   Hi·ªÉu vai tr√≤ v√† ch·ª©c nƒÉng ch√≠nh c·ªßa T·∫ßng ·ª®ng D·ª•ng (Layer 7 trong OSI, Layer 5/Application trong TCP/IP) - l·ªõp cao nh·∫•t trong m√¥ h√¨nh m·∫°ng.
*   Ph√¢n bi·ªát r√µ r√†ng gi·ªØa **·ª®ng d·ª•ng m·∫°ng (Network Application)** v√† **Giao th·ª©c t·∫ßng ·ª©ng d·ª•ng (Application Layer Protocol)**.
*   N·∫Øm v·ªØng hai m√¥ h√¨nh ki·∫øn tr√∫c ·ª©ng d·ª•ng m·∫°ng ph·ªï bi·∫øn: **Client-Server** v√† **Peer-to-Peer (P2P)**.
*   Hi·ªÉu c√°ch c√°c ·ª©ng d·ª•ng m·∫°ng t∆∞∆°ng t√°c v·ªõi T·∫ßng Giao V·∫≠n (TCP/UDP) th√¥ng qua Sockets.
*   Gi·ªõi thi·ªáu s∆° l∆∞·ª£c v·ªÅ c√°c giao th·ª©c t·∫ßng ·ª©ng d·ª•ng quan tr·ªçng v√† ph·ªï bi·∫øn nh·∫•t (s·∫Ω ƒëi s√¢u v√†o t·ª´ng giao th·ª©c ·ªü c√°c b√†i sau).

## N·ªôi Dung Chi Ti·∫øt

### 1. Vai Tr√≤ v√† Ch·ª©c NƒÉng

T·∫ßng ·ª®ng D·ª•ng l√† t·∫ßng **cao nh·∫•t** trong c·∫£ m√¥ h√¨nh OSI (Layer 7) v√† TCP/IP (Th∆∞·ªùng g·ªôp Layer 5, 6, 7 c·ªßa OSI). ƒê√¢y l√† t·∫ßng m√† **ng∆∞·ªùi d√πng cu·ªëi v√† c√°c ·ª©ng d·ª•ng ph·∫ßn m·ªÅm t∆∞∆°ng t√°c tr·ª±c ti·∫øp** ƒë·ªÉ s·ª≠ d·ª•ng c√°c d·ªãch v·ª• m·∫°ng.

Kh√°c v·ªõi c√°c t·∫ßng d∆∞·ªõi (Giao v·∫≠n, M·∫°ng, Li√™n k·∫øt d·ªØ li·ªáu, V·∫≠t l√Ω) ch·ªß y·∫øu t·∫≠p trung v√†o vi·ªác *di chuy·ªÉn d·ªØ li·ªáu* m·ªôt c√°ch hi·ªáu qu·∫£ v√† tin c·∫≠y qua m·∫°ng, T·∫ßng ·ª®ng D·ª•ng t·∫≠p trung v√†o vi·ªác **cung c·∫•p c√°c quy t·∫Øc v√† ƒë·ªãnh d·∫°ng d·ªØ li·ªáu c·ª• th·ªÉ** ƒë·ªÉ c√°c ·ª©ng d·ª•ng c√≥ th·ªÉ hi·ªÉu v√† trao ƒë·ªïi th√¥ng tin v·ªõi nhau nh·∫±m th·ª±c hi·ªán m·ªôt nhi·ªám v·ª• c·ª• th·ªÉ (duy·ªát web, g·ª≠i mail, truy·ªÅn file...).

**Ch·ª©c nƒÉng ch√≠nh:**

*   **Cung c·∫•p Giao di·ªán Ng∆∞·ªùi d√πng:** Cung c·∫•p ph∆∞∆°ng ti·ªán cho ng∆∞·ªùi d√πng t∆∞∆°ng t√°c v·ªõi m·∫°ng (v√≠ d·ª•: tr√¨nh duy·ªát web, email client).
*   **ƒê·ªãnh nghƒ©a Giao th·ª©c Giao ti·∫øp:** X√°c ƒë·ªãnh c√°c quy t·∫Øc, c√∫ ph√°p, ƒë·ªãnh d·∫°ng th√¥ng ƒëi·ªáp m√† c√°c ·ª©ng d·ª•ng s·ª≠ d·ª•ng ƒë·ªÉ "n√≥i chuy·ªán" v·ªõi nhau (v√≠ d·ª•: c√°ch tr√¨nh duy·ªát y√™u c·∫ßu trang web t·ª´ server, c√°ch email client g·ª≠i th∆∞ ƒë·∫øn mail server).
*   **ƒê·ªãnh danh D·ªãch v·ª•:** C√°c giao th·ª©c t·∫ßng ·ª©ng d·ª•ng th∆∞·ªùng g·∫Øn li·ªÅn v·ªõi c√°c Well-known Port Numbers (v√≠ d·ª•: HTTP - Port 80, SMTP - Port 25) ƒë·ªÉ c√°c client bi·∫øt c√°ch t√¨m ƒë·∫øn ƒë√∫ng d·ªãch v·ª• tr√™n server.
*   **C√°c Ch·ª©c nƒÉng c·ªßa T·∫ßng Presentation v√† Session (trong m√¥ h√¨nh OSI) th∆∞·ªùng ƒë∆∞·ª£c t√≠ch h·ª£p t·∫°i ƒë√¢y trong m√¥ h√¨nh TCP/IP:**
    *   **ƒê·ªãnh d·∫°ng d·ªØ li·ªáu (Data Formatting/Encoding):** ƒê·∫£m b·∫£o d·ªØ li·ªáu ƒë∆∞·ª£c tr√¨nh b√†y theo m·ªôt ƒë·ªãnh d·∫°ng chung (v√≠ d·ª•: m√£ h√≥a k√Ω t·ª± ASCII, UTF-8, n√©n ·∫£nh JPEG).
    *   **M√£ h√≥a/Gi·∫£i m√£ (Encryption/Decryption):** B·∫£o m·∫≠t d·ªØ li·ªáu truy·ªÅn ƒëi (v√≠ d·ª•: HTTPS s·ª≠ d·ª•ng SSL/TLS).
    *   **N√©n/Gi·∫£i n√©n (Compression/Decompression):** Gi·∫£m dung l∆∞·ª£ng d·ªØ li·ªáu ƒë·ªÉ truy·ªÅn nhanh h∆°n.
    *   **Qu·∫£n l√Ω Phi√™n (Session Management):** Thi·∫øt l·∫≠p, duy tr√¨, ƒë·ªìng b·ªô h√≥a v√† k·∫øt th√∫c c√°c cu·ªôc ƒë·ªëi tho·∫°i (phi√™n) gi·ªØa c√°c ·ª©ng d·ª•ng (√≠t r√µ r√†ng h∆°n trong m·ªôt s·ªë giao th·ª©c hi·ªán ƒë·∫°i).

### 2. ·ª®ng D·ª•ng M·∫°ng vs. Giao Th·ª©c T·∫ßng ·ª®ng D·ª•ng

C·∫ßn ph√¢n bi·ªát r√µ hai kh√°i ni·ªám n√†y:

*   **·ª®ng D·ª•ng M·∫°ng (Network Application):** L√† ph·∫ßn m·ªÅm m√† ng∆∞·ªùi d√πng tr·ª±c ti·∫øp t∆∞∆°ng t√°c ƒë·ªÉ th·ª±c hi·ªán m·ªôt c√¥ng vi·ªác li√™n quan ƒë·∫øn m·∫°ng.
    *   V√≠ d·ª•: Tr√¨nh duy·ªát web (Chrome, Firefox), Email client (Outlook, Thunderbird), Ph·∫ßn m·ªÅm chat (Zalo, Skype), Game online, ·ª®ng d·ª•ng chia s·∫ª file (BitTorrent client)...
*   **Giao Th·ª©c T·∫ßng ·ª®ng D·ª•ng (Application Layer Protocol):** L√† t·∫≠p h·ª£p c√°c quy t·∫Øc v√† ƒë·ªãnh d·∫°ng th√¥ng ƒëi·ªáp m√† c√°c *·ª®ng d·ª•ng m·∫°ng* s·ª≠ d·ª•ng ƒë·ªÉ giao ti·∫øp v·ªõi nhau qua m·∫°ng. Giao th·ª©c n√†y ƒë·ªãnh nghƒ©a c√°ch y√™u c·∫ßu v√† ph·∫£n h·ªìi ƒë∆∞·ª£c t·∫°o ra, g·ª≠i ƒëi v√† x·ª≠ l√Ω.
    *   V√≠ d·ª•: HTTP (d√πng b·ªüi tr√¨nh duy·ªát web), SMTP/POP3/IMAP (d√πng b·ªüi email client), DNS (d√πng b·ªüi h·∫ßu h·∫øt c√°c ·ª©ng d·ª•ng ƒë·ªÉ ph√¢n gi·∫£i t√™n mi·ªÅn), FTP, BitTorrent Protocol...

=> M·ªôt ·ª©ng d·ª•ng m·∫°ng c√≥ th·ªÉ s·ª≠ d·ª•ng m·ªôt ho·∫∑c nhi·ªÅu giao th·ª©c t·∫ßng ·ª©ng d·ª•ng. V√≠ d·ª•, tr√¨nh duy·ªát web ch·ªß y·∫øu d√πng HTTP/HTTPS nh∆∞ng c≈©ng c√≥ th·ªÉ d√πng FTP v√† ch·∫Øc ch·∫Øn c·∫ßn DNS.

### 3. M√¥ H√¨nh Ki·∫øn Tr√∫c ·ª®ng D·ª•ng M·∫°ng

C√≥ hai ki·∫øn tr√∫c ch√≠nh m√† c√°c ·ª©ng d·ª•ng m·∫°ng ƒë∆∞·ª£c x√¢y d·ª±ng theo:

*   **a. M√¥ H√¨nh Client-Server:**
    *   **C·∫•u tr√∫c:** C√≥ m·ªôt b√™n l√† **Server** - m·ªôt m√°y t√≠nh (ho·∫∑c c·ª•m m√°y t√≠nh) m·∫°nh m·∫Ω, lu√¥n ho·∫°t ƒë·ªông, c√≥ ƒë·ªãa ch·ªâ IP c·ªë ƒë·ªãnh (th∆∞·ªùng l√† v·∫≠y) v√† l·∫Øng nghe y√™u c·∫ßu t·ª´ c√°c Client tr√™n m·ªôt Port c·ª• th·ªÉ. B√™n kia l√† **Client** - c√°c m√°y t√≠nh ho·∫∑c thi·∫øt b·ªã c·ªßa ng∆∞·ªùi d√πng cu·ªëi, ch·ªß ƒë·ªông g·ª≠i y√™u c·∫ßu (request) ƒë·∫øn Server v√† ch·ªù ƒë·ª£i ph·∫£n h·ªìi (response).
    *   **ƒê·∫∑c ƒëi·ªÉm:**
        *   Server l√† **nh√† cung c·∫•p d·ªãch v·ª•**, Client l√† **ng∆∞·ªùi s·ª≠ d·ª•ng d·ªãch v·ª•**.
        *   Giao ti·∫øp ch·ªß y·∫øu di·ªÖn ra gi·ªØa Client v√† Server, c√°c Client th∆∞·ªùng kh√¥ng giao ti·∫øp tr·ª±c ti·∫øp v·ªõi nhau (th√¥ng qua Server ƒë√≥).
        *   Server c√≥ th·ªÉ ph·ª•c v·ª• nhi·ªÅu Client c√πng l√∫c.
        *   D·ªÖ qu·∫£n l√Ω, t·∫≠p trung d·ªØ li·ªáu v√† logic x·ª≠ l√Ω t·∫°i Server.
        *   ƒêi·ªÉm y·∫øu: Server c√≥ th·ªÉ tr·ªü th√†nh **n√∫t c·ªï chai (bottleneck)** n·∫øu qu√° t·∫£i, ho·∫∑c **ƒëi·ªÉm l·ªói duy nh·∫•t (single point of failure)** n·∫øu Server g·∫∑p s·ª± c·ªë. Kh·∫£ nƒÉng m·ªü r·ªông (scaling) c√≥ th·ªÉ t·ªën k√©m.
    *   **V√≠ d·ª•:** Duy·ªát Web (Web Server & Browser Client), Email (Mail Server & Email Client), C∆° s·ªü d·ªØ li·ªáu t·∫≠p trung (Database Server & Application Client)...

*   **b. M√¥ H√¨nh Peer-to-Peer (P2P - M·∫°ng Ngang H√†ng):**
    *   **C·∫•u tr√∫c:** Kh√¥ng c√≥ kh√°i ni·ªám Server trung t√¢m lu√¥n ho·∫°t ƒë·ªông. Thay v√†o ƒë√≥, c√°c m√°y t√≠nh (g·ªçi l√† **Peers**) trong m·∫°ng v·ª´a ƒë√≥ng vai tr√≤ l√† **Client** (y√™u c·∫ßu d·ªØ li·ªáu/d·ªãch v·ª• t·ª´ Peer kh√°c) v·ª´a ƒë√≥ng vai tr√≤ l√† **Server** (cung c·∫•p d·ªØ li·ªáu/d·ªãch v·ª• cho Peer kh√°c).
    *   **ƒê·∫∑c ƒëi·ªÉm:**
        *   C√°c Peer k·∫øt n·ªëi v√† trao ƒë·ªïi d·ªØ li·ªáu tr·ª±c ti·∫øp v·ªõi nhau.
        *   T·∫≠n d·ª•ng t√†i nguy√™n (bƒÉng th√¥ng, dung l∆∞·ª£ng l∆∞u tr·ªØ) c·ªßa t·∫•t c·∫£ c√°c Peer tham gia.
        *   **Kh·∫£ nƒÉng m·ªü r·ªông t·ªët:** Hi·ªáu nƒÉng h·ªá th·ªëng c√≥ th·ªÉ tƒÉng l√™n khi c√≥ nhi·ªÅu Peer tham gia (v√≠ d·ª•: c√†ng nhi·ªÅu ng∆∞·ªùi chia s·∫ª file torrent, t·ªëc ƒë·ªô t·∫£i c√†ng nhanh).
        *   **Kh·∫£ nƒÉng ch·ªãu l·ªói cao:** Kh√¥ng c√≥ ƒëi·ªÉm l·ªói duy nh·∫•t. H·ªá th·ªëng v·∫´n c√≥ th·ªÉ ho·∫°t ƒë·ªông ngay c·∫£ khi m·ªôt s·ªë Peer r·ªùi m·∫°ng.
        *   **Qu·∫£n l√Ω ph·ª©c t·∫°p h∆°n:** Vi·ªác t√¨m ki·∫øm Peer, ƒë·∫£m b·∫£o an ninh v√† qu·∫£n l√Ω b·∫£n quy·ªÅn c√≥ th·ªÉ kh√≥ khƒÉn h∆°n. ƒê·ªãa ch·ªâ IP c·ªßa Peer th∆∞·ªùng thay ƒë·ªïi (ƒë·ªông).
    *   **V√≠ d·ª•:** C√°c ·ª©ng d·ª•ng chia s·∫ª file (BitTorrent, Gnutella), m·ªôt s·ªë ·ª©ng d·ª•ng nh·∫Øn tin v√† g·ªçi tho·∫°i/video (Skype ·ªü m·ªôt s·ªë ch·∫ø ƒë·ªô), Ti·ªÅn ƒëi·ªán t·ª≠ (Cryptocurrencies nh∆∞ Bitcoin).
    *   *(L∆∞u √Ω: Nhi·ªÅu h·ªá th·ªëng P2P hi·ªán ƒë·∫°i v·∫´n c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c Server h·ªó tr·ª£ (Tracker server trong BitTorrent, Supernode trong Skype c≈©) ƒë·ªÉ ƒëi·ªÅu ph·ªëi ho·∫∑c gi√∫p Peer t√¨m th·∫•y nhau, nh∆∞ng vi·ªác truy·ªÅn d·ªØ li·ªáu ch√≠nh v·∫´n di·ªÖn ra tr·ª±c ti·∫øp gi·ªØa c√°c Peer).*

### 4. T∆∞∆°ng T√°c V·ªõi T·∫ßng Giao V·∫≠n

*   C√°c giao th·ª©c t·∫ßng ·ª©ng d·ª•ng **c·∫ßn ch·ªçn** m·ªôt giao th·ª©c t·∫ßng giao v·∫≠n (Transport Layer Protocol) ƒë·ªÉ g·ª≠i v√† nh·∫≠n d·ªØ li·ªáu: **TCP ho·∫∑c UDP**.
*   Vi·ªác l·ª±a ch·ªçn n√†y ph·ª• thu·ªôc v√†o **y√™u c·∫ßu c·ªßa ·ª©ng d·ª•ng**:
    *   C·∫ßn tin c·∫≠y tuy·ªát ƒë·ªëi, ch·∫•p nh·∫≠n overhead -> **Ch·ªçn TCP** (V√≠ d·ª•: HTTP, FTP, SMTP).
    *   ∆Øu ti√™n t·ªëc ƒë·ªô, ch·∫•p nh·∫≠n m·∫•t m√°t, overhead th·∫•p -> **Ch·ªçn UDP** (V√≠ d·ª•: DNS, VoIP, Streaming).
*   ·ª®ng d·ª•ng giao ti·∫øp v·ªõi TCP/UDP th√¥ng qua **Socket API** m√† h·ªá ƒëi·ªÅu h√†nh cung c·∫•p (nh∆∞ ƒë√£ h·ªçc ·ªü B√†i 14). ·ª®ng d·ª•ng ch·ªâ c·∫ßn quan t√¢m ƒë·∫øn vi·ªác g·ª≠i/nh·∫≠n d·ªØ li·ªáu qua Socket, ph·∫ßn c√≤n l·∫°i (ƒë√≥ng g√≥i Segment/Datagram, g·ª≠i ƒëi, nh·∫≠n v·ªÅ, x·ª≠ l√Ω l·ªói n·∫øu l√† TCP...) do T·∫ßng Giao V·∫≠n v√† c√°c t·∫ßng d∆∞·ªõi lo li·ªáu.

### 5. C√°c Giao Th·ª©c T·∫ßng ·ª®ng D·ª•ng Quan Tr·ªçng (S∆° L∆∞·ª£c)

Ch√∫ng ta s·∫Ω ƒëi s√¢u v√†o t·ª´ng giao th·ª©c n√†y ·ªü c√°c b√†i h·ªçc ti·∫øp theo:

*   **DNS (Domain Name System):** D·ªãch v·ª• "danh b·∫°" c·ªßa Internet, ph√¢n gi·∫£i t√™n mi·ªÅn (v√≠ d·ª•: `www.google.com`) th√†nh ƒë·ªãa ch·ªâ IP (v√≠ d·ª•: `142.250.199.196`) v√† ng∆∞·ª£c l·∫°i. Th∆∞·ªùng d√πng UDP Port 53.
*   **HTTP (HyperText Transfer Protocol):** N·ªÅn t·∫£ng c·ªßa World Wide Web. D√πng ƒë·ªÉ y√™u c·∫ßu v√† truy·ªÅn t·∫£i c√°c t√†i nguy√™n web (HTML, CSS, JS, h√¨nh ·∫£nh...) gi·ªØa tr√¨nh duy·ªát (Client) v√† Web Server. D√πng TCP Port 80.
*   **HTTPS (HTTP Secure):** Phi√™n b·∫£n b·∫£o m·∫≠t c·ªßa HTTP, s·ª≠ d·ª•ng m√£ h√≥a SSL/TLS ƒë·ªÉ b·∫£o v·ªá d·ªØ li·ªáu. D√πng TCP Port 443.
*   **Email Protocols:**
    *   **SMTP (Simple Mail Transfer Protocol):** D√πng ƒë·ªÉ **g·ª≠i** email t·ª´ Email Client ƒë·∫øn Mail Server v√† gi·ªØa c√°c Mail Server v·ªõi nhau. D√πng TCP Port 25 (ho·∫∑c 587/465 cho b·∫£n b·∫£o m·∫≠t).
    *   **POP3 (Post Office Protocol version 3):** D√πng ƒë·ªÉ Email Client **t·∫£i** email t·ª´ Mail Server v·ªÅ m√°y Client (th∆∞·ªùng x√≥a b·∫£n g·ªëc tr√™n server). D√πng TCP Port 110.
    *   **IMAP (Internet Message Access Protocol):** D√πng ƒë·ªÉ Email Client **truy c·∫≠p v√† qu·∫£n l√Ω** email tr·ª±c ti·∫øp tr√™n Mail Server (gi·ªØ b·∫£n g·ªëc tr√™n server, ƒë·ªìng b·ªô tr·∫°ng th√°i th∆∞). D√πng TCP Port 143.
*   **FTP (File Transfer Protocol):** Giao th·ª©c chuy√™n d·ª•ng ƒë·ªÉ truy·ªÅn file gi·ªØa Client v√† Server. D√πng TCP Port 20 (Data) v√† 21 (Control).
*   **DHCP (Dynamic Host Configuration Protocol):** Gi√∫p m√°y t√≠nh Client t·ª± ƒë·ªông nh·∫≠n c·∫•u h√¨nh m·∫°ng (ƒë·ªãa ch·ªâ IP, Subnet Mask, Default Gateway, DNS Server) t·ª´ DHCP Server. D√πng UDP Port 67 (Server) v√† 68 (Client).
*   **Telnet & SSH (Secure Shell):** Cho ph√©p ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p v√† ƒëi·ªÅu khi·ªÉn m√°y t√≠nh t·ª´ xa qua giao di·ªán d√≤ng l·ªánh. Telnet (TCP 23) kh√¥ng m√£ h√≥a, r·∫•t kh√¥ng an to√†n. SSH (TCP 22) m√£ h√≥a to√†n b·ªô phi√™n l√†m vi·ªác, an to√†n h∆°n nhi·ªÅu v√† ƒë∆∞·ª£c khuy√™n d√πng.

## T√≥m T·∫Øt & B√†i H·ªçc Ti·∫øp Theo

T·∫ßng ·ª®ng D·ª•ng l√† n∆°i c√°c ·ª©ng d·ª•ng m·∫°ng sinh s·ªëng v√† cung c·∫•p d·ªãch v·ª• cho ng∆∞·ªùi d√πng th√¥ng qua c√°c giao th·ª©c ƒë∆∞·ª£c chu·∫©n h√≥a. Hai m√¥ h√¨nh ki·∫øn tr√∫c ch√≠nh l√† Client-Server v√† P2P. T·∫ßng n√†y ƒë·ªãnh nghƒ©a "ng√¥n ng·ªØ" giao ti·∫øp gi·ªØa c√°c ·ª©ng d·ª•ng v√† l·ª±a ch·ªçn d·ªãch v·ª• v·∫≠n chuy·ªÉn (TCP ho·∫∑c UDP) ph√π h·ª£p t·ª´ t·∫ßng d∆∞·ªõi.

B√†i h·ªçc ti·∫øp theo (`BaiHoc_16_DNS_HeThongPhanGiaiTenMien.md`) s·∫Ω ƒë√†o s√¢u v√†o m·ªôt trong nh·ªØng giao th·ª©c n·ªÅn t·∫£ng quan tr·ªçng nh·∫•t c·ªßa Internet: **DNS (Domain Name System)**. Ch√∫ng ta s·∫Ω kh√°m ph√° c√°ch "danh b·∫° kh·ªïng l·ªì" n√†y ho·∫°t ƒë·ªông ƒë·ªÉ bi·∫øn nh·ªØng c√°i t√™n d·ªÖ nh·ªõ th√†nh ƒë·ªãa ch·ªâ IP m√† m√°y t√≠nh hi·ªÉu ƒë∆∞·ª£c. ƒê·ª´ng b·ªè l·ª° "chuy·∫øn tham quan" h·ªá th·ªëng DNS nh√©! üó∫Ô∏è‚û°Ô∏èüíª
